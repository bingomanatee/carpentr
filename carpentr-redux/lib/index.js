!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("crypto")):"function"==typeof define&&define.amd?define(["crypto"],t):(e=e||self).LGE=t(e.crypto)}(this,(function(e){"use strict";function t(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if("production"!==process.env.NODE_ENV){var o=L[e],i=o?"function"==typeof o?o.apply(null,r):o:"unknown error nr: "+e;throw Error("[Immer] "+i)}throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(e){return!!e&&!!e[K]}function n(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[F]||!!e.constructor[F]||f(e)||s(e))}function o(e,t,r){void 0===r&&(r=!1),0===i(e)?(r?Object.keys:J)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function i(e){var t=e[K];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:f(e)?2:s(e)?3:0}function u(e,t){return 2===i(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function a(e,t,r){var n=i(e);2===n?e.set(t,r):3===n?(e.delete(t),e.add(r)):e[t]=r}function c(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function f(e){return U&&e instanceof Map}function s(e){return q&&e instanceof Set}function l(e){return e.o||e.t}function d(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=G(e);delete t[K];for(var r=J(t),n=0;n<r.length;n++){var o=r[n],i=t[o];!1===i.writable&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(t[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(Object.getPrototypeOf(e),t)}function p(e,t){v(e)||r(e)||!n(e)||(i(e)>1&&(e.set=e.add=e.clear=e.delete=h),Object.freeze(e),t&&o(e,(function(e,t){return p(t,!0)}),!0))}function h(){t(2)}function v(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function y(e){var r=X[e];return r||t("production"!==process.env.NODE_ENV?18:19,e),r}function b(e,t){X[e]=t}function m(){return"production"===process.env.NODE_ENV||W||t(0),W}function g(e,t){t&&(y("Patches"),e.u=[],e.s=[],e.v=t)}function E(e){O(e),e.p.forEach(P),e.p=null}function O(e){e===W&&(W=e.l)}function w(e){return W={p:[],l:W,h:e,m:!0,_:0}}function P(e){var t=e[K];0===t.i||1===t.i?t.j():t.g=!0}function S(e,r){r._=r.p.length;var o=r.p[0],i=void 0!==e&&e!==o;return r.h.O||y("ES5").S(r,e,i),i?(o[K].P&&(E(r),t(4)),n(e)&&(e=N(r,e),r.l||D(r,e)),r.u&&y("Patches").M(o[K],e,r.u,r.s)):e=N(r,o,[]),E(r),r.u&&r.v(r.u,r.s),e!==z?e:void 0}function N(e,t,r){if(v(t))return t;var n=t[K];if(!n)return o(t,(function(o,i){return _(e,n,t,o,i,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return D(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=4===n.i||5===n.i?n.o=d(n.k):n.o;o(3===n.i?new Set(i):i,(function(t,o){return _(e,n,i,t,o,r)})),D(e,i,!1),r&&e.u&&y("Patches").R(n,r,e.u,e.s)}return n.o}function _(e,o,i,c,f,s){if("production"!==process.env.NODE_ENV&&f===i&&t(5),r(f)){var l=N(e,f,s&&o&&3!==o.i&&!u(o.D,c)?s.concat(c):void 0);if(a(i,c,l),!r(l))return;e.m=!1}if(n(f)&&!v(f)){if(!e.h.N&&e._<1)return;N(e,f),o&&o.A.l||D(e,f)}}function D(e,t,r){void 0===r&&(r=!1),e.h.N&&e.m&&p(t,r)}function A(e,t){var r=e[K];return(r?l(r):e)[t]}function j(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function I(e){e.P||(e.P=!0,e.l&&I(e.l))}function T(e){e.o||(e.o=d(e.t))}function x(e,t,r){var n=f(t)?y("MapSet").T(t,r):s(t)?y("MapSet").F(t,r):e.O?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:m(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},o=n,i=$;r&&(o=[n],i=B);var u=Proxy.revocable(o,i),a=u.revoke,c=u.proxy;return n.k=c,n.j=a,c}(t,r):y("ES5").J(t,r);return(r?r.A:m()).p.push(n),n}function M(e){return r(e)||t(22,e),function e(t){if(!n(t))return t;var r,u=t[K],c=i(t);if(u){if(!u.P&&(u.i<4||!y("ES5").K(u)))return u.t;u.I=!0,r=R(t,c),u.I=!1}else r=R(t,c);return o(r,(function(t,n){u&&function(e,t){return 2===i(e)?e.get(t):e[t]}(u.t,t)===n||a(r,t,e(n))})),3===c?new Set(r):r}(e)}function R(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return d(e)}e=e&&e.hasOwnProperty("default")?e.default:e;var k,W,C="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),U="undefined"!=typeof Map,q="undefined"!=typeof Set,V="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,z=C?Symbol.for("immer-nothing"):((k={})["immer-nothing"]=!0,k),F=C?Symbol.for("immer-draftable"):"__$immer_draftable",K=C?Symbol.for("immer-state"):"__$immer_state",Q="undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator",L={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},19:"plugin not loaded",20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(e){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+e+"'"},22:function(e){return"'current' expects a draft, got: "+e},23:function(e){return"'original' expects a draft, got: "+e}},J="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,G=Object.getOwnPropertyDescriptors||function(e){var t={};return J(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},X={},$={get:function(e,t){if(t===K)return e;var r=l(e);if(!u(r,t))return function(e,t,r){var n,o=j(t,r);return o?"value"in o?o.value:null===(n=o.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var o=r[t];return e.I||!n(o)?o:o===A(e.t,t)?(T(e),e.o[t]=x(e.A.h,o,e)):o},has:function(e,t){return t in l(e)},ownKeys:function(e){return Reflect.ownKeys(l(e))},set:function(e,t,r){var n=j(l(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(e.D[t]=!0,!e.P){if(c(r,A(l(e),t))&&(void 0!==r||u(e.t,t)))return!0;T(e),I(e)}return e.o[t]=r,!0},deleteProperty:function(e,t){return void 0!==A(e.t,t)||t in e.t?(e.D[t]=!1,T(e),I(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=l(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){t(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){t(12)}},B={};o($,(function(e,t){B[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),B.deleteProperty=function(e,r){return"production"!==process.env.NODE_ENV&&isNaN(parseInt(r))&&t(13),$.deleteProperty.call(this,e[0],r)},B.set=function(e,r,n){return"production"!==process.env.NODE_ENV&&"length"!==r&&isNaN(parseInt(r))&&t(14),$.set.call(this,e[0],r,n,e[0])};var H=new(function(){function e(e){this.O=V,this.N="production"!==process.env.NODE_ENV,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var o=e.prototype;return o.produce=function(e,r,o){if("function"==typeof e&&"function"!=typeof r){var i=r;r=e;var u=this;return function(e){var t=this;void 0===e&&(e=i);for(var n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return u.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(o))}))}}var a;if("function"!=typeof r&&t(6),void 0!==o&&"function"!=typeof o&&t(7),n(e)){var c=w(this),f=x(this,e,void 0),s=!0;try{a=r(f),s=!1}finally{s?E(c):O(c)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return g(c,o),S(e,c)}),(function(e){throw E(c),e})):(g(c,o),S(a,c))}if(!e||"object"!=typeof e){if((a=r(e))===z)return;return void 0===a&&(a=e),this.N&&p(a,!0),a}t(21,e)},o.produceWithPatches=function(e,t){var r,n,o=this;return"function"==typeof e?function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return o.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(n))}))}:[this.produce(e,t,(function(e,t){r=e,n=t})),r,n]},o.createDraft=function(e){n(e)||t(8),r(e)&&(e=M(e));var o=w(this),i=x(this,e,void 0);return i[K].C=!0,O(o),i},o.finishDraft=function(e,r){var n=e&&e[K];"production"!==process.env.NODE_ENV&&(n&&n.C||t(9),n.I&&t(10));var o=n.A;return g(o,r),S(void 0,o)},o.setAutoFreeze=function(e){this.N=e},o.setUseProxies=function(e){e&&!V&&t(20),this.O=e},o.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var o=t[n];if(0===o.path.length&&"replace"===o.op){e=o.value;break}}var i=y("Patches").$;return r(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}()),Y=H.produce;H.produceWithPatches.bind(H),H.setAutoFreeze.bind(H),H.setUseProxies.bind(H),H.applyPatches.bind(H),H.createDraft.bind(H),H.finishDraft.bind(H);function Z(e,t){return e===t}function ee(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,o=0;o<n;o++)if(!e(t[o],r[o]))return!1;return!0}function te(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}!function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n]}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z,r=null,n=null;return function(){return ee(t,r,arguments)||(n=e.apply(null,arguments)),r=arguments,n}}));function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}process.env.NODE_ENV,process.env.NODE_ENV;function ne(e,t){function r(){if(t){var r=t.apply(void 0,arguments);if(!r)throw new Error("prepareAction did not return an object");return re({type:e,payload:r.payload},"meta"in r&&{meta:r.meta},{},"error"in r&&{error:r.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(t){return t.type===e},r}function oe(e){var t,r={},n=[],o={addCase:function(e,i){if("production"!==process.env.NODE_ENV){if(n.length>0)throw new Error("`builder.addCase` should only be called before calling `builder.addMatcher`");if(t)throw new Error("`builder.addCase` should only be called before calling `builder.addDefaultCase`")}var u="string"==typeof e?e:e.type;if(u in r)throw new Error("addCase cannot be called with two reducers for the same action type");return r[u]=i,o},addMatcher:function(e,r){if("production"!==process.env.NODE_ENV&&t)throw new Error("`builder.addMatcher` should only be called before calling `builder.addDefaultCase`");return n.push({matcher:e,reducer:r}),o},addDefaultCase:function(e){if("production"!==process.env.NODE_ENV&&t)throw new Error("`builder.addDefaultCase` can only be called once");return t=e,o}};return e(o),[r,n,t]}function ie(e){var t=e.name,o=e.initialState;if(!t)throw new Error("`name` is a required option for createSlice");var i=e.reducers||{},u=void 0===e.extraReducers?[]:"function"==typeof e.extraReducers?oe(e.extraReducers):[e.extraReducers],a=u[0],c=void 0===a?{}:a,f=u[1],s=void 0===f?[]:f,l=u[2],d=void 0===l?void 0:l,p=Object.keys(i),h={},v={},y={};p.forEach((function(e){var r,n,o=i[e],u=t+"/"+e;"reducer"in o?(r=o.reducer,n=o.prepare):r=o,h[e]=r,v[u]=r,y[e]=n?ne(u,n):ne(u)}));var b=function(e,t,o,i){void 0===o&&(o=[]);var u="function"==typeof t?oe(t):[t,o,i],a=u[0],c=u[1],f=u[2];return function(t,o){void 0===t&&(t=e);var i=[a[o.type]].concat(c.filter((function(e){return(0,e.matcher)(o)})).map((function(e){return e.reducer})));return 0===i.filter((function(e){return!!e})).length&&(i=[f]),i.reduce((function(e,t){if(t){if(r(e)){var i=t(e,o);return void 0===i?e:i}if(n(e))return Y(e,(function(e){return t(e,o)}));var u=t(e,o);if(void 0===u)throw Error("A case reducer on a non-draftable value must not return undefined");return u}return e}),t)}}(o,re({},c,{},v),s,d);return{name:t,reducer:b,actions:y,caseReducers:h}}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));!function(){function e(e,t){var r=s[e];return r?r.enumerable=t:s[e]=r={configurable:!0,enumerable:t,get:function(){var t=this[K];return"production"!==process.env.NODE_ENV&&f(t),$.get(t,e)},set:function(t){var r=this[K];"production"!==process.env.NODE_ENV&&f(r),$.set(r,e,t)}},r}function n(e){for(var t=e.length-1;t>=0;t--){var r=e[t][K];if(!r.P)switch(r.i){case 5:a(r)&&I(r);break;case 4:i(r)&&I(r)}}}function i(e){for(var t=e.t,r=e.k,n=J(r),o=n.length-1;o>=0;o--){var i=n[o];if(i!==K){var a=t[i];if(void 0===a&&!u(t,i))return!0;var f=r[i],s=f&&f[K];if(s?s.t!==a:!c(f,a))return!0}}var l=!!t[K];return n.length!==J(t).length+(l?0:1)}function a(e){var t=e.k;if(t.length!==e.t.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}function f(e){e.g&&t(3,JSON.stringify(l(e)))}var s={};b("ES5",{J:function(t,r){var n=Array.isArray(t),o=function(t,r){if(t){for(var n=Array(r.length),o=0;o<r.length;o++)Object.defineProperty(n,""+o,e(o,!0));return n}var i=G(r);delete i[K];for(var u=J(i),a=0;a<u.length;a++){var c=u[a];i[c]=e(c,t||!!i[c].enumerable)}return Object.create(Object.getPrototypeOf(r),i)}(n,t),i={i:n?5:4,A:r?r.A:m(),P:!1,I:!1,D:{},l:r,t:t,k:o,o:null,g:!1,C:!1};return Object.defineProperty(o,K,{value:i,writable:!0}),o},S:function(e,t,i){i?r(t)&&t[K].A===e&&n(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var r=t[K];if(r){var n=r.t,i=r.k,c=r.D,f=r.i;if(4===f)o(i,(function(t){t!==K&&(void 0!==n[t]||u(n,t)?c[t]||e(i[t]):(c[t]=!0,I(r)))})),o(n,(function(e){void 0!==i[e]||u(i,e)||(c[e]=!1,I(r))}));else if(5===f){if(a(r)&&(I(r),c.length=!0),i.length<n.length)for(var s=i.length;s<n.length;s++)c[s]=!1;else for(var l=n.length;l<i.length;l++)c[l]=!0;for(var d=Math.min(i.length,n.length),p=0;p<d;p++)void 0===c[p]&&e(i[p])}}}}(e.p[0]),n(e.p))},K:function(e){return 4===e.i?i(e):a(e)}})}();const ue="COLLECTION_SET",ae="NEW_REQUEST",ce="UPDATE_REQUEST",fe="NEW_QUESTION",se="UPDATE_QUESTION",le="NEW_ANSWER",de="UPDATE_ANSWER",pe="VIEW_NEW",he="VIEW_UPDATE";var ve=Object.freeze({__proto__:null,COLLECTION_SET:ue,NEW_REQUEST:ae,UPDATE_REQUEST:ce,NEW_QUESTION:fe,UPDATE_QUESTION:se,NEW_ANSWER:le,UPDATE_ANSWER:de,VIEW_NEW:pe,VIEW_UPDATE:he});let ye={},be=(t=21)=>{let r=(t=>{let r=ye[t];return r||(r=Buffer.allocUnsafe(t),t<=255&&(ye[t]=r)),e.randomFillSync(r)})(t),n="";for(;t--;)n+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[63&r[t]];return n};const me=Symbol("new"),ge=Symbol("working"),Ee=Symbol("done"),Oe=Symbol("error"),we=Symbol("expired"),Pe=Symbol("transient");var Se=Object.freeze({__proto__:null,NEW:me,WORKING:ge,DONE:Ee,ERROR:Oe,EXPIRED:we,TRANSIENT:Pe});const Ne={status:me,view:null,form:null,uuid:null};const _e=(e,t,r)=>Y(e,(n=>{if(!n||"object"!=typeof n||!t||"string"!=typeof t)return void console.log("addToMap: bad state or registryKey",e,t);if(!r||"object"!=typeof r||!r.uuid||"string"!=typeof r.uuid)return void console.log("addToMap: un-addable element",r);const o=n[t];n[t]=Y(o,(e=>{e.set(r.uuid,r)}))})),De=(e,t,r,n)=>Y(e,(o=>{if("object"==typeof r&&(n=r.update,r=r.uuid),!o||"object"!=typeof o||!t||"string"!=typeof t)return void console.log("updateMap: bad state or registryKey",e,t);if(!r||"string"!=typeof r)return void console.log("empty/bad key passed to update ",t,"; uuid = ",r);if("function"!=typeof n)return void console.log("update must be a function for ",t,r,"but is ",n);const i=o[t],u=i.get(r);if(!u)return void console.log("cannot find  ",r,"in ",t);const a=Y(u,n);if(a.uuid!==r)throw console.log("bad mutation of ",r,":",a),new Error("cannot mutate uuid of member of "+t);o[t]=Y(i,(e=>{e.set(r,a)}))}));var Ae=Object.freeze({__proto__:null,addToMap:_e,updateMap:De});const je={collection:"",question:"",form:"",status:Ee};const Ie={requests:new Map,questions:new Map,answers:new Map};const Te={status:me,name:"",uuid:""};return function(){function e(e,t){function r(){this.constructor=e}a(e,t),e.prototype=(r.prototype=t.prototype,new r)}function r(e){e.o||(e.D=new Map,e.o=new Map(e.t))}function i(e){e.o||(e.o=new Set,e.t.forEach((function(t){if(n(t)){var r=x(e.A.h,t,e);e.p.set(t,r),e.o.add(r)}else e.o.add(t)})))}function u(e){e.g&&t(3,JSON.stringify(l(e)))}var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},c=function(){function t(e,t){return this[K]={i:2,l:t,A:t?t.A:m(),P:!1,I:!1,o:void 0,D:void 0,t:e,k:this,C:!1,g:!1},this}e(t,Map);var i=t.prototype;return Object.defineProperty(i,"size",{get:function(){return l(this[K]).size}}),i.has=function(e){return l(this[K]).has(e)},i.set=function(e,t){var n=this[K];return u(n),l(n).has(e)&&l(n).get(e)===t||(r(n),I(n),n.D.set(e,!0),n.o.set(e,t),n.D.set(e,!0)),this},i.delete=function(e){if(!this.has(e))return!1;var t=this[K];return u(t),r(t),I(t),t.D.set(e,!1),t.o.delete(e),!0},i.clear=function(){var e=this[K];return u(e),r(e),I(e),e.D=new Map,o(e.t,(function(t){e.D.set(t,!1)})),e.o.clear()},i.forEach=function(e,t){var r=this;l(this[K]).forEach((function(n,o){e.call(t,r.get(o),o,r)}))},i.get=function(e){var t=this[K];u(t);var o=l(t).get(e);if(t.I||!n(o))return o;if(o!==t.t.get(e))return o;var i=x(t.A.h,o,t);return r(t),t.o.set(e,i),i},i.keys=function(){return l(this[K]).keys()},i.values=function(){var e,t=this,r=this.keys();return(e={})[Q]=function(){return t.values()},e.next=function(){var e=r.next();return e.done?e:{done:!1,value:t.get(e.value)}},e},i.entries=function(){var e,t=this,r=this.keys();return(e={})[Q]=function(){return t.entries()},e.next=function(){var e=r.next();if(e.done)return e;var n=t.get(e.value);return{done:!1,value:[e.value,n]}},e},i[Q]=function(){return this.entries()},t}(),f=function(){function t(e,t){return this[K]={i:3,l:t,A:t?t.A:m(),P:!1,I:!1,o:void 0,t:e,k:this,p:new Map,g:!1,C:!1},this}e(t,Set);var r=t.prototype;return Object.defineProperty(r,"size",{get:function(){return l(this[K]).size}}),r.has=function(e){var t=this[K];return u(t),t.o?!!t.o.has(e)||!(!t.p.has(e)||!t.o.has(t.p.get(e))):t.t.has(e)},r.add=function(e){var t=this[K];return u(t),this.has(e)||(i(t),I(t),t.o.add(e)),this},r.delete=function(e){if(!this.has(e))return!1;var t=this[K];return u(t),i(t),I(t),t.o.delete(e)||!!t.p.has(e)&&t.o.delete(t.p.get(e))},r.clear=function(){var e=this[K];return u(e),i(e),I(e),e.o.clear()},r.values=function(){var e=this[K];return u(e),i(e),e.o.values()},r.entries=function(){var e=this[K];return u(e),i(e),e.o.entries()},r.keys=function(){return this.values()},r[Q]=function(){return this.values()},r.forEach=function(e,t){for(var r=this.values(),n=r.next();!n.done;)e.call(t,n.value,n.value,this),n=r.next()},t}();b("MapSet",{T:function(e,t){return new c(e,t)},F:function(e,t){return new f(e,t)}})}(),{collections:()=>ie({name:"collections",initialState:Y(new Map,(()=>{})),reducers:{[ue]:(e,t)=>{const{collection:r,identity:n,data:o}=t.payload;if(!r||"string"!=typeof r)throw new Error("COLLECTION_SET requires a string for collection name");const i=e.has(r)?e:Y(e,(e=>{e.set(r,new Map)})),u=i.get(r),a=Y(u,(e=>e.set(n,o)));return Y(i,(e=>{e.set(r,a)}))}}}),actions:ve,changes:()=>ie({name:"requests",initialState:Y(Ie,(e=>e)),reducers:{[ae]:(e,t)=>{const{view:r}=t.payload;if(!r||"string"!=typeof r)throw new Error("REQUEST requires a string view");return _e(e,"requests",(n=t.payload,Y(Ne,(e=>{const{form:t,view:r,collection:o=null}=n;e.uuid=be(),e.view=r,e.form=t,o&&(e.collection=o)}))));var n},[ce]:(e,t)=>De(e,"requests",t.payload),[fe]:(e,t)=>_e(e,"questions",(e=>{const{request:t,collection:r,form:n}=e;return Y({collection:r,request:t.uuid,form:n},(e=>{e.uuid=be(),!e.form&&t.form&&(e.form=t.form),!e.collection&&t.collection&&(e.collection=t.collection)}))})(t.payload)),[se]:(e,t)=>De(e,"questions",t.payload),[le]:(e,t)=>{const r=(e=>{const{question:t,response:r,error:n}=e;let o="",i="",u="";return"string"==typeof t?o=t:(o=t.uuid,i=t.collection,u=t.form),Y(je,(e=>{e.uuid=be(),e.question=o,e.q=t,e.response=r,n&&(e.status=Oe),e.form=u,e.collection=i}))})(t.payload),n=_e(e,"answers",r);return De(n,"questions",r.question,(e=>{e.status=r.status,e.answer=r.uuid}))},[de]:(e,t)=>De(e,"answers",t.payload)}}),status:Se,views:()=>ie({name:"views",initialState:Y(new Map,(()=>{})),reducers:{[pe]:(e,t)=>{const r=(n=t.payload,Y(Te,(e=>{const{name:t,collection:r}=n;e.uuid=be(),e.name=t,r&&(e.collection=r)})));var n;return Y(e,(e=>{e.set(r.uuid,r)}))},[he]:(e,t)=>{const{uuid:r,update:n}=t.payload,o=e.get(r);return o?Y(e,(e=>{e.set(r,Y(o,n))})):(console.log("cannnot find view:",t),e)}}}),...Ae}}));
